<!DOCTYPE html>
<html lang="en">

<head id="head">
  <title>Zane's Website</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/styles/fontAwesome.css">
  <link id="style" rel="stylesheet" href="/styles/indexLight.css">
  <link rel="stylesheet" href="/styles/index.css">
  <link rel="icon" type="image/x-icon" id="favicon" href="/img/favicon/0.png">
</head>

<body>
  <!-- Sidebar -->
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a onclick="changeChannel('home.html');closeNav();">Home</a>
    <a onclick="changeChannel('about-me.html');closeNav();">About</a>
    <a onclick="changeChannel('sitemap.html');closeNav();">Sitemap</a>
    <a onclick="changeChannel('subpages/games.html');closeNav();">Games</a>
    <a onclick="changeChannel('youtube-videos.html');closeNav();">My YouTube Videos</a>
  </div>

  <div class="hs1-main">
    <!-- Sidebar open button -->
    <div id="sidebarButton" onclick="openNav()">
      <span id="sidebarButtonText" onclick="openNav()" class="fa-solid fa-bars"></span>
    </div>
    <!-- Main content -->
    <iframe id="pageContentFrame" src="home.html" frameborder="0" scrolling="yes" seamless="seamless" index="1"></iframe>
    <!-- END MAIN -->
  </div>
</body>
<script src="/scripts/index.js"></script>
<script>//prevent arrow and space keys from scrolling page
  window.addEventListener("keydown", function (e) {
      if (["Space", "ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].indexOf(e.code) > -1) {
          e.preventDefault();
      }
  }, false);
  //deprecated code! Needed for older browsers
  window.addEventListener("keydown", function (e) {
      // space and arrow keys
      if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {
          e.preventDefault();
      }
  }, false);
  
  //load the iframe from the search params, if present
  function loadIframe() {
      let params = new URLSearchParams(document.location.search);
      let p = params.get("p");
      let darkMode = params.get("d");
  
      if (p == null) {
          changeChannel("https://supraboy981322.github.io/" + "home.html");
      } else {
          changeChannel("https://supraboy981322.github.io/" + decodeURI(p));
      }
      if (darkMode != null || darkMode) {
          document.getElementById("style").setAttribute("href", "/styles/indexDark.css");
      }
  }
  
  //check for darkMode
  function checkDarkMode() {
      let params = new URLSearchParams(document.location.search);
      let darkMode = params.get("d");
      if (darkMode || darkMode != null) {
          if (!document.getElementById("pageContentFrame").getAttribute("src").includes("?")) {
              changeChannel(document.getElementById("pageContentFrame").getAttribute("src") + "?d")
          } else {
              changeChannel(document.getElementById("pageContentFrame").getAttribute("src") + "&d")
          }
      }
  }
  
  addEventListener(document.getElementById("pageContentFrame").onload, checkDarkMode());
  addEventListener(window.onload, loadIframe());</script>
</html>