
<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
	.toolBar {
		background-color: #004980;
		width: 99.5vw;
		margin: -8px 0px 0px -8px;
		float: left;
		padding: 1vh 0vw 1vh 0.5vw;
	}

	#saveButton {
		border-radius: 10px;
		border: 0px;
		background-color: white;
		padding: 1% 2%;
		font-size: 15.4px;
		color: black;
		text-decoration: none;
		margin: 0px;
		height: 3.5vh;
		font-weight: bold;
		cursor: pointer;
		font-size: 2vh;
	}

	#docContent {
		min-height: 100vh;
		height: auto;
		width: 75vw;
		float: left;
		margin: 8px 0px 8px 11vw;
		border: 2px solid grey;
		border-radius: 5px;
		padding: 8px;
	}

	#fileType {
		border-radius: 10px;
		border: 0px;
		padding: 0.5%;
		color: black;
		text-decoration: none;
		margin: 0px;
		width: 50px;
		height: 3.5vh;
		font-weight: bold;
		cursor: pointer;
		font-size: 2vh;
	}

	.toolBar span {
		padding: 0vh 1vw 0vh 1vw;
		font-weight: bold;
	}

	#file {
		background-color: white;
		padding: 0.5%;
		border-radius: 6px;
	}

	#fileName {
		border-radius: 10px;
		border: 0px;
		padding: 1px 6px 1px 6px;
		color: black;
		text-decoration: none;
		margin: 0px;
		height: 32px;
	}

	#loadFileButton {
		padding: 1px 6px 1px 6px;
		border-radius: 10px;
		border: none;
		background-color: white;
		height: 32px;
	}

	.buttonCursor {
		cursor: pointer;
	}

	.textCursor {
		background-color: #dddddd;
	}
</style>

<body>
	<div class="toolBar">
		<input id="fileName" class="textCursor" type="text" value="Unnamed Document"></input>
		<input id="fileType" class="textCursor" type="text" value=".txt"></input>
		<span> | </span>
		<a id="saveButton" class="buttonCursor" download="ILoveTheBible.txt" onclick="saveDocument()">Save</a>
		<span> | </span>
		<input id="file" class="buttonCursor" type="file"></input>
		<button id="loadFileButton" class="buttonCursor" onclick="loadFile(document.getElementById('file').value)">Load
			file</button>
	</div>
	<br>
	<div style="margin:-8px;">
		<div style="overflow:wrap;" id="docContent" contenteditable="true"></div>
	</div>
</body>
<script>
  	function loadFile(fileLocation) {
    const doc = document.getElementById('docContent');
    const file = document.getElementById('file').files[0];
    const reader = new FileReader();
    
    // listen for 'load' events on the FileReader
    reader.addEventListener("load", function () {
      // change the preloadedText's src to be the "result" of reading the uploaded file (below)
      fetch(reader.result)
        .then( r => r.text() )
        .then( t => load(t))
    }, false);
    
      function load(text) {
        document.getElementById("docContent").innerText = text;
      }
    // if there's a file, tell the reader to read the data
    // which triggers the load event above
    if (file) {
      reader.readAsDataURL(file);
    }
  }
	function saveDocument() {
		var link = document.getElementById("saveButton");
		var docC = document.getElementById("docContent");
		var fileName = document.getElementById("fileName").value;
		var fileType = document.getElementById("fileType").value;
		mimetype = "text/plain";
		link.setAttribute("download", fileName + fileType);
		link.setAttribute("href", "data:" + mimetype + "charset=utf-8," + docC.innerText);
	};
</script>

</html>
